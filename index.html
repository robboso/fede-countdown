<html>
	<head>
		<title>Fede Countdown</title>
		<link rel="stylesheet" href="./resources/css/main.css">
	</head>
<body>
	<script type="text/javascript" src="./resources/lib/jquery.min.js"></script>
	<script type="text/javascript" src="./resources/lib/main.js"></script>




	<div id="countdownInfo">
		<div id="countdownConfig" style="display: none;">
			Milliseconds: <input type="number" id="countdownStartFrom" value="30000"></input>
		</div>
		<div id="countDownInfoInner">
			<div id="timer"></div>
			<button id="start">START</button>
			<button id="reset">RESET</button>
			<button id="stop">STOP</button>
			<button id="clear">CLEAR</button>
		</div>
		<button id="config">TOGGLE CONFIGURATION</button>
	</div>


	<script type="text/javascript">
		var initial = 30000;
		var count = initial;
		var counter; //10 will  run it every 100th of a second
		var initialMillis;
		$('#start').on('click', function () {
			clearInterval(counter);
			initialMillis = Date.now();
			counter = setInterval(timer, 1);
		});

		$('#stop').on('click', function () {
			clearInterval(counter);
		});

		$('#reset').on('click', function () {
			clearInterval(counter);
			count = initial;
			displayCount(count);
			$('#start').click();
		});
		
		$('#clear').on('click', function () {
			clearInterval(counter);
			count = initial;
			displayCount(count);
		});

		$('#config').on('click', function () {
			$("#countdownConfig").toggle();
			$("#countDownInfoInner").toggle();
		});

		$('#countdownStartFrom').change(function () {
			initial=$('#countdownStartFrom').val();
			clearInterval(counter);
			count = initial;
			displayCount(count);
		});

		displayCount(initial);
		
		$(document).keydown(function(event) {
    			if (event.which === 81){
				e.preventDefault();
				$('#start').click();
		    	}
			if (event.which === 87){
				e.preventDefault();
				$('#reset').click();
		    	}
			if (event.which === 69){
				e.preventDefault();
				$('#stop').click();
		    	}
			if (event.which === 82){
				e.preventDefault();
				$('#clear').click();
		    	}
		});
		
	</script>

</body>
</html>
